# set TMUX_VERSION
run-shell 'tmux setenv -g TMUX_VERSION $(tmux -V | \
    sed -En "s/^tmux ([0-9]+(.[0-9]+)?).*/\1/p")'

# before 1.9
if-shell -b '[ "$(echo "$TMUX_VERSION < 2.9" | bc)" = 1 ]' ' \
    '

# after 1.9 (tpm available)
if-shell -b '[ "$(echo "$TMUX_VERSION < 2.9" | bc)" = 1 ]' ' \
    set -g @plugin "tmux-plugins/tpm" \
    set -g @plugin "tmux-plugins/tmux-sensible" \
    set -g @plugin "tmux-plugins/tmux-pain-control" \
    set -g @plugin "tmux-plugins/tmux-battery" \
    run -b "~/.tmux/plugins/tpm/tpm"
    '

unbind C-b
set -g prefix C-a
bind C-a send-prefix

set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

set -g default-terminal "screen-256color"

set -g status-interval 1
set -g status-left ""
set -g status-left-length 100

set -g status-style fg=colour8,bg=colour233
setw -g window-status-format "#[fg=colour8,bg=colour233][#I]#W"
setw -g window-status-current-format "#[fg=colour8,bg=colour233][@]#W"
set -g status-right "#[fg=colour8,bg=colour233]#{battery_percentage} %H:%M"
set -g status-right-length 100
set -g pane-border-style fg=colour8
set -g pane-active-border-style fg=colour8
